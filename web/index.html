<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="windows-1252">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script> src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"</script>
        <script>
            var baseurl = "http://localhost:8080/PSalesProject/api/cate/list";
            $.getJSON(baseurl, function(list){
                for(i=0; i<list.length; i=i+1){
                    console.log(list);
                    var table = document.querySelector("#categories");
                    var row = table.insertRow();
                    
                    row.insertCell(0).innerHTML=list[i].catid;
                    row.insertCell(1).innerHTML=list[i].name;
                }
            });
        </script>
        <script>
//            var baseurl = "http://localhost:8080/PSalesProject/api/cate";
//            function loadCategories() {
//                var xmlhttp = new XMLHttpRequest();
//                xmlhttp.open("GET", baseurl + "/list", true);
//                xmlhttp.onreadystatechange = function () {
//                    if (xmlhttp.readyState === 4 && xmlhttp.status === 200) {
//                        var categor = JSON.parse(xmlhttp.responseText);
//                        var tbltop = `<table>
//                            <tr><th>Id</th><th>Name</th><th>Action</th></tr>`;
//                        //main table content we fill from data from the rest call
//                        var main = "";
//                        for (i = 0; i < categor.length; i++) {
//                            main += "<tr><td>" + categor[i].catid + "</td><td>" + categor[i].name + "</td><td><button class="btn btn-primary edit-row" data-id="+categor[i].id+" style="margin-right: 2px;" data-toggle="modal" data-target="#modal-edit">Edit</button><button class="btn btn-danger delete-row" data-id="+categor[i].id+"><i class="fa fa-trash"></i></button></td></tr>";
//                        }
//                        var tblbottom = "</table>";
//                        var tbl = tbltop + main + tblbottom;
//                        document.getElementById("personinfo").innerHTML = tbl;
//                    }
//                };
//                xmlhttp.send();
//            }
//            window.onload = function () {
//                loadCategories();
//            }
        </script>
    </head>
    <body>
        <h1>Category List</h1>

        <table id="categories">
            <tr>
                <id>
                <name>
            </tr>
        </table>
    </body>
</html>
